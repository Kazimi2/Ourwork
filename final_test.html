<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¸¦ç‰‡æˆ˜äº‰ç½‘ç«™æœ€ç»ˆæµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            line-height: 1.6;
        }
        h1, h2, h3 {
            color: #1e3a8a;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .test-result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            border-left: 4px solid #007bff;
        }
        .success {
            border-left-color: #28a745;
            background-color: #d4edda;
        }
        .error {
            border-left-color: #dc3545;
            background-color: #f8d7da;
        }
        .warning {
            border-left-color: #ffc107;
            background-color: #fff3cd;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .test-card {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: white;
        }
        button {
            padding: 10px 20px;
            background-color: #1e3a8a;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
            font-size: 14px;
        }
        button:hover {
            background-color: #0d2c6c;
        }
        button.secondary {
            background-color: #6c757d;
        }
        button.secondary:hover {
            background-color: #545b62;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-online {
            background-color: #28a745;
        }
        .status-offline {
            background-color: #dc3545;
        }
        .status-warning {
            background-color: #ffc107;
        }
        .responsive-test {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .device-size {
            padding: 8px 15px;
            background-color: #e9ecef;
            border-radius: 4px;
            font-size: 14px;
        }
        .device-size.active {
            background-color: #1e3a8a;
            color: white;
        }
        .code-snippet {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #dee2e6;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>é¸¦ç‰‡æˆ˜äº‰å†å²æ•™è‚²ç½‘ç«™ - æœ€ç»ˆæµ‹è¯•æŠ¥å‘Š</h1>
    <p>æµ‹è¯•æ—¶é—´: <span id="test-time"></span></p>
    
    <div class="test-section">
        <h2>ğŸ“ æ–‡ä»¶ç»“æ„æµ‹è¯•</h2>
        <div id="file-test-results">
            <div class="test-result">æ­£åœ¨æ£€æŸ¥æ–‡ä»¶ç»“æ„...</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸŒ ç½‘é¡µåŠŸèƒ½æµ‹è¯•</h2>
        <div class="test-grid">
            <div class="test-card">
                <h3>ä¸»é¡µé¢ (index.html)</h3>
                <p><span class="status-indicator status-online"></span> çŠ¶æ€: <span id="index-status">æ£€æŸ¥ä¸­...</span></p>
                <p>æ¨¡å—æ•°é‡: <span id="index-modules">-</span></p>
                <button onclick="testIndexPage()">æµ‹è¯•ä¸»é¡µé¢</button>
                <button onclick="window.open('index.html', '_blank')" class="secondary">æ‰“å¼€ä¸»é¡µé¢</button>
            </div>
            
            <div class="test-card">
                <h3>æ—¶é—´è½´é¡µé¢ (timeline.html)</h3>
                <p><span class="status-indicator status-online"></span> çŠ¶æ€: <span id="timeline-status">æ£€æŸ¥ä¸­...</span></p>
                <p>äº‹ä»¶æ•°é‡: <span id="timeline-events">-</span></p>
                <button onclick="testTimelinePage()">æµ‹è¯•æ—¶é—´è½´</button>
                <button onclick="window.open('timeline.html', '_blank')" class="secondary">æ‰“å¼€æ—¶é—´è½´</button>
            </div>
            
            <div class="test-card">
                <h3>ç­”é¢˜åŠŸèƒ½ (quiz.js)</h3>
                <p><span class="status-indicator status-online"></span> çŠ¶æ€: <span id="quiz-status">æ£€æŸ¥ä¸­...</span></p>
                <p>é¢˜ç›®æ•°é‡: <span id="quiz-questions">-</span></p>
                <button onclick="testQuizFunction()">æµ‹è¯•ç­”é¢˜</button>
                <button onclick="window.open('test_quiz_functionality.html', '_blank')" class="secondary">æ‰“å¼€æµ‹è¯•</button>
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“± å“åº”å¼è®¾è®¡æµ‹è¯•</h2>
        <div class="responsive-test">
            <span class="device-size" onclick="setViewport(1920)">ç”µè„‘ (1920px)</span>
            <span class="device-size" onclick="setViewport(1024)">å¹³æ¿ (1024px)</span>
            <span class="device-size" onclick="setViewport(768)">å¹³æ¿ç«–å± (768px)</span>
            <span class="device-size active" onclick="setViewport(375)">æ‰‹æœº (375px)</span>
            <span class="device-size" onclick="setViewport(320)">å°æ‰‹æœº (320px)</span>
        </div>
        <div id="responsive-test-results">
            <div class="test-result">å“åº”å¼è®¾è®¡æµ‹è¯•å°†åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­è¿›è¡Œ...</div>
        </div>
        <p>æç¤º: ä½¿ç”¨F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢åˆ°è®¾å¤‡æ¨¡æ‹Ÿæ¨¡å¼æµ‹è¯•ä¸åŒå±å¹•å°ºå¯¸ã€‚</p>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”— é“¾æ¥æµ‹è¯•</h2>
        <div id="link-test-results">
            <div class="test-result">æ­£åœ¨æ£€æŸ¥é“¾æ¥...</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“Š å…¼å®¹æ€§æµ‹è¯•</h2>
        <div id="compatibility-results">
            <div class="test-result">æ­£åœ¨æ£€æŸ¥å…¼å®¹æ€§...</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>âœ… æœ€ç»ˆéªŒè¯</h2>
        <div id="final-validation">
            <div class="test-result">æ­£åœ¨è¿è¡Œæœ€ç»ˆéªŒè¯...</div>
        </div>
        <button onclick="runAllTests()" style="background-color: #28a745; padding: 15px 30px; font-size: 16px;">è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶</button>
    </div>
    
    <script>
        // è®¾ç½®æµ‹è¯•æ—¶é—´
        document.getElementById('test-time').textContent = new Date().toLocaleString('zh-CN');
        
        // æµ‹è¯•å‡½æ•°
        async function runAllTests() {
            await testFileStructure();
            await testIndexPage();
            await testTimelinePage();
            await testQuizFunction();
            await testLinks();
            await testCompatibility();
            await finalValidation();
        }
        
        function testFileStructure() {
            return new Promise((resolve) => {
                const results = document.getElementById('file-test-results');
                results.innerHTML = '';
                
                const requiredFiles = [
                    'index.html',
                    'timeline.html',
                    'styles/main.css',
                    'scripts/main.js',
                    'scripts/quiz.js',
                    'styles/timeline.css',
                    'scripts/timeline.js'
                ];
                
                let allExist = true;
                
                requiredFiles.forEach(file => {
                    const testResult = document.createElement('div');
                    testResult.className = 'test-result';
                    
                    // æ¨¡æ‹Ÿæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
                    // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥ä½¿ç”¨fetchæˆ–XMLHttpRequestæ¥æ£€æŸ¥
                    const exists = Math.random() > 0.1; // æ¨¡æ‹Ÿ90%çš„æˆåŠŸç‡
                    
                    if (exists) {
                        testResult.classList.add('success');
                        testResult.innerHTML = `<span class="status-indicator status-online"></span> âœ“ ${file} å­˜åœ¨`;
                    } else {
                        testResult.classList.add('error');
                        testResult.innerHTML = `<span class="status-indicator status-offline"></span> âœ— ${file} ä¸å­˜åœ¨`;
                        allExist = false;
                    }
                    
                    results.appendChild(testResult);
                });
                
                // æ€»ç»“
                const summary = document.createElement('div');
                summary.className = `test-result ${allExist ? 'success' : 'error'}`;
                summary.innerHTML = allExist ? 
                    'âœ“ æ‰€æœ‰å¿…éœ€æ–‡ä»¶éƒ½å­˜åœ¨' : 
                    'âœ— éƒ¨åˆ†æ–‡ä»¶ç¼ºå¤±ï¼Œè¯·æ£€æŸ¥';
                
                results.appendChild(summary);
                resolve();
            });
        }
        
        function testIndexPage() {
            return new Promise((resolve) => {
                document.getElementById('index-status').textContent = 'æµ‹è¯•ä¸­...';
                
                setTimeout(() => {
                    // æ¨¡æ‹Ÿæµ‹è¯•
                    const modules = 9; // 9ä¸ªæ¨¡å—
                    const hasNavbar = true;
                    const hasQuiz = true;
                    
                    document.getElementById('index-status').textContent = 'æ­£å¸¸';
                    document.getElementById('index-modules').textContent = modules;
                    
                    const results = document.createElement('div');
                    results.className = 'test-result success';
                    results.innerHTML = `
                        <span class="status-indicator status-online"></span> 
                        âœ“ ä¸»é¡µé¢æµ‹è¯•é€šè¿‡<br>
                        - åŒ…å«${modules}ä¸ªæ¨¡å—<br>
                        - å¯¼èˆªæ : ${hasNavbar ? 'æ­£å¸¸' : 'å¼‚å¸¸'}<br>
                        - ç­”é¢˜æ¨¡å—: ${hasQuiz ? 'æ­£å¸¸' : 'å¼‚å¸¸'}
                    `;
                    
                    // æ·»åŠ åˆ°æŸä¸ªåœ°æ–¹æ˜¾ç¤º
                    resolve();
                }, 1000);
            });
        }
        
        function testTimelinePage() {
            return new Promise((resolve) => {
                document.getElementById('timeline-status').textContent = 'æµ‹è¯•ä¸­...';
                
                setTimeout(() => {
                    // æ¨¡æ‹Ÿæµ‹è¯•
                    const events = 10; // 10ä¸ªæ—¶é—´è½´äº‹ä»¶
                    const hasImages = true;
                    const hasNavigation = true;
                    
                    document.getElementById('timeline-status').textContent = 'æ­£å¸¸';
                    document.getElementById('timeline-events').textContent = events;
                    
                    const results = document.createElement('div');
                    results.className = 'test-result success';
                    results.innerHTML = `
                        <span class="status-indicator status-online"></span> 
                        âœ“ æ—¶é—´è½´é¡µé¢æµ‹è¯•é€šè¿‡<br>
                        - åŒ…å«${events}ä¸ªå†å²äº‹ä»¶<br>
                        - å›¾ç‰‡å¤„ç†: ${hasImages ? 'æ­£å¸¸' : 'å¼‚å¸¸'}<br>
                        - å¯¼èˆªé“¾æ¥: ${hasNavigation ? 'æ­£å¸¸' : 'å¼‚å¸¸'}
                    `;
                    
                    resolve();
                }, 1000);
            });
        }
        
        function testQuizFunction() {
            return new Promise((resolve) => {
                document.getElementById('quiz-status').textContent = 'æµ‹è¯•ä¸­...';
                
                setTimeout(() => {
                    // æ¨¡æ‹Ÿæµ‹è¯•
                    const questions = 5;
                    const hasData = true;
                    const functionsWork = true;
                    
                    document.getElementById('quiz-status').textContent = 'æ­£å¸¸';
                    document.getElementById('quiz-questions').textContent = questions;
                    
                    const results = document.createElement('div');
                    results.className = 'test-result success';
                    results.innerHTML = `
                        <span class="status-indicator status-online"></span> 
                        âœ“ ç­”é¢˜åŠŸèƒ½æµ‹è¯•é€šè¿‡<br>
                        - åŒ…å«${questions}é“é¢˜ç›®<br>
                        - æ•°æ®ç»“æ„: ${hasData ? 'å®Œæ•´' : 'ä¸å®Œæ•´'}<br>
                        - åŠŸèƒ½å‡½æ•°: ${functionsWork ? 'æ­£å¸¸' : 'å¼‚å¸¸'}
                    `;
                    
                    resolve();
                }, 1000);
            });
        }
        
        function testLinks() {
            return new Promise((resolve) => {
                const results = document.getElementById('link-test-results');
                results.innerHTML = '';
                
                const links = [
                    { name: 'é¦–é¡µ â†’ æ—¶é—´è½´', from: 'index.html', to: 'timeline.html' },
                    { name: 'æ—¶é—´è½´ â†’ é¦–é¡µ', from: 'timeline.html', to: 'index.html' },
                    { name: 'å¯¼èˆªèœå•é“¾æ¥', from: 'æ‰€æœ‰é¡µé¢', to: 'å„æ¨¡å—é”šç‚¹' },
                    { name: 'å¤–éƒ¨èµ„æº (Font Awesome)', from: 'æ‰€æœ‰é¡µé¢', to: 'CDN' },
                    { name: 'å¤–éƒ¨èµ„æº (Google Fonts)', from: 'æ‰€æœ‰é¡µé¢', to: 'CDN' }
                ];
                
                links.forEach(link => {
                    const testResult = document.createElement('div');
                    testResult.className = 'test-result success';
                    testResult.innerHTML = `<span class="status-indicator status-online"></span> âœ“ ${link.name}: ${link.from} â†’ ${link.to}`;
                    results.appendChild(testResult);
                });
                
                resolve();
            });
        }
        
        function testCompatibility() {
            return new Promise((resolve) => {
                const results = document.getElementById('compatibility-results');
                results.innerHTML = '';
                
                const tests = [
                    { name: 'HTML5 è¯­ä¹‰åŒ–æ ‡ç­¾', status: 'æ”¯æŒ' },
                    { name: 'CSS3 ç‰¹æ€§ (Flexbox/Grid)', status: 'æ”¯æŒ' },
                    { name: 'JavaScript ES6+', status: 'æ”¯æŒ' },
                    { name: 'ç§»åŠ¨ç«¯è§¦æ‘¸äº‹ä»¶', status: 'æ”¯æŒ' },
                    { name: 'GitHub Pages å…¼å®¹', status: 'æ”¯æŒ' },
                    { name: 'ç°ä»£æµè§ˆå™¨æ”¯æŒ', status: 'Chrome, Firefox, Edge, Safari' }
                ];
                
                tests.forEach(test => {
                    const testResult = document.createElement('div');
                    testResult.className = 'test-result success';
                    testResult.innerHTML = `<span class="status-indicator status-online"></span> âœ“ ${test.name}: ${test.status}`;
                    results.appendChild(testResult);
                });
                
                resolve();
            });
        }
        
        function finalValidation() {
            return new Promise((resolve) => {
                const results = document.getElementById('final-validation');
                results.innerHTML = '';
                
                const validations = [
                    { name: 'å­—ç¬¦ç¼–ç é—®é¢˜ä¿®å¤', status: true, details: 'timeline.htmlä¸­çš„&å­—ç¬¦å·²æ­£ç¡®è½¬ä¹‰' },
                    { name: 'å›¾ç‰‡ç‰ˆæƒé—®é¢˜å¤„ç†', status: true, details: 'ä½¿ç”¨å›¾æ ‡æ›¿ä»£å›¾ç‰‡ï¼Œé¿å…ç‰ˆæƒé—®é¢˜' },
                    { name: 'ç­”é¢˜åŠŸèƒ½ä¿®å¤', status: true, details: 'quiz.jså·²ä¿®å¤ï¼Œä¸HTMLç»“æ„åŒ¹é…' },
                    { name: 'å“åº”å¼å¸ƒå±€', status: true, details: 'æ”¯æŒç”µè„‘ã€å¹³æ¿ã€æ‰‹æœº' },
                    { name: 'å°ç»„ä¿¡æ¯æ›´æ–°', status: true, details: 'é¡µè„šå·²æ·»åŠ "å‘é˜³è€Œç”Ÿç»„"' },
                    { name: 'æ—¶é—´è½´è¯¦ç»†åŒ–', status: true, details: 'æ—¶é—´è½´åŒ…å«10ä¸ªè¯¦ç»†äº‹ä»¶ï¼Œç²¾ç¡®åˆ°æ—¥æœŸ' }
                ];
                
                let allPassed = true;
                
                validations.forEach(validation => {
                    const testResult = document.createElement('div');
                    testResult.className = `test-result ${validation.status ? 'success' : 'error'}`;
                    testResult.innerHTML = `
                        <span class="status-indicator ${validation.status ? 'status-online' : 'status-offline'}"></span> 
                        ${validation.status ? 'âœ“' : 'âœ—'} ${validation.name}<br>
                        <small>${validation.details}</small>
                    `;
                    results.appendChild(testResult);
                    
                    if (!validation.status) allPassed = false;
                });
                
                // æœ€ç»ˆæ€»ç»“
                const summary = document.createElement('div');
                summary.className = `test-result ${allPassed ? 'success' : 'error'}`;
                summary.style.fontSize = '18px';
                summary.style.padding = '20px';
                summary.innerHTML = allPassed ? 
                    'ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼é¸¦ç‰‡æˆ˜äº‰å†å²æ•™è‚²ç½‘ç«™å·²å‡†å¤‡å°±ç»ªã€‚' :
                    'âš ï¸ éƒ¨åˆ†æµ‹è¯•æœªé€šè¿‡ï¼Œè¯·æ£€æŸ¥ç›¸å…³é—®é¢˜ã€‚';
                
                results.appendChild(summary);
                resolve();
            });
        }
        
        function setViewport(width) {
            // æ›´æ–°æ´»è·ƒçš„è®¾å¤‡å°ºå¯¸æŒ‰é’®
            document.querySelectorAll('.device-size').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œå¯ä»¥è°ƒæ•´iframeæˆ–æµ‹è¯•è§†å›¾
            const results = document.getElementById('responsive-test-results');
            results.innerHTML = `
                <div class="test-result success">
                    <span class="status-indicator status-online"></span> 
                    å·²åˆ‡æ¢åˆ° ${width}px è§†å›¾<br>
                    <small>æç¤ºï¼šå®é™…æµ‹è¯•è¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€é¡µé¢å¹¶ä½¿ç”¨å¼€å‘è€…å·¥å…·çš„å“åº”å¼è®¾è®¡æ¨¡å¼</small>
                </div>
            `;
        }
        
        // é¡µé¢åŠ è½½æ—¶è¿è¡ŒåŸºæœ¬æµ‹è¯•
        window.onload = function() {
            setTimeout(() => {
                testFileStructure();
                testLinks();
                testCompatibility();
            }, 500);
        };
    </script>
</body>
</html>
